We define the occurrence rate density, $\Gamma$, as the expected number of 
planets per star per bin of planetary or stellar phase space.
Since we will mainly be concerned with the rate density's dependence on 
planetary radii $r$, we write
\begin{equation}
\Gamma(r) = \frac{{\rm d}\Lambda}{{\rm d}r},
\label{eq:rate_density_defn}
\end{equation}
where $\Lambda$ is the occurrence rate.
In this notation, ``the occurrence rate of planets of a particular size'' 
translates to an integral of Eq.~\ref{eq:rate_density_defn}, evaluated over a 
radius interval.

The above definition implicitly marginalizes the rate density over stellar 
multiplicity.
In this study we only consider single and binary star systems.
For a selected population of stars and planets, the rate density is then 
the weighted sum of rate densities for each system type:
\begin{equation}
N_{\rm tot} \Gamma(r) =
N_0 \Gamma_0(r) +
N_1 \Gamma_1(r) +
N_2 \Gamma_2(r),
\label{eq:rate_density_marginalized}
\end{equation}
where $i=0$ corresponds to single stars, $i=1$ to primaries of 
binaries, and $i=2$ to secondaries of binaries.
$N_{\rm tot} = \sum_i N_i$ is the total number of selected stars, and 
$N_0,N_1,N_2$ are the number of selected single stars, primaries, and 
secondaries.
Since each selected binary system contributes both a 
primary and secondary star, $N_1=N_2$.
This redundancy in our notation will later prove its use.

Finally, it is useful to write 
$\Gamma_i(r)$, the rate density for each type of star, as the product of a 
shape function and a constant:
\begin{equation}
\Gamma_i(r) = \frac{{\rm d}\Lambda_i}{{\rm d}r} = Z_i p_i(r),
\quad {\rm for}\ i\in\{0,1,2\}.
\label{eq:rate_density_shape}
\end{equation}
The shape function is normalized to unity.
The $Z_i$'s can be interpreted as each system type's occurrence rate 
$\Lambda_i$, integrated over all planetary radii.
They are equivalent to the number of planets per single star, primary, or 
secondary.

\begin{comment}
Both $N_1$ and $N_2$ are equal to the number of selected points on 
the sky which are in fact binary systems.
The relationship between the rate $\Lambda$ over a desired volume of 
phase space $\Omega_{\rm desired}$ and $\Lambda_i$ is
\begin{equation}
\Lambda = \sum_i
\left(
w_i \Lambda_i \int_{\Omega_{\rm desired}} p_i(\vec{x}) \,{\rm d}\Omega
\right),
\label{eq:occ_rate}
\end{equation}
where $p_i(\vec{x})$ is assumed to be normalized to unity.

A transit survey will have a rate density of detected planets $\hat{\Gamma}$, 
which for each system type will be the product of the rate density and the 
detection efficiency $Q_i(\vec{x})$:
\begin{equation}
\hat{\Gamma}(\vec{x}) = \sum_i Q_i(\vec{x}) \Gamma_i(\vec{x}) 
\equiv \sum_i \hat{\Gamma}_i(\vec{x}),
\label{eq:detected_rate_density}
\end{equation}
where again the index $i$ is over each type of system (singles, primaries, 
and secondaries).
The detection efficiency includes the geometric transit probability, as well 
as any incompleteness effects.
Foreman-Mackey et al. (2014) discuss how this 
is calculated in practice.
\end{comment}